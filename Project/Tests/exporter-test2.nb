(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='WolframDesktop 11.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       161,          7]
NotebookDataLength[     59092,       1354]
NotebookOptionsPosition[     53694,       1248]
NotebookOutlinePosition[     54268,       1270]
CellTagsIndexPosition[     54178,       1265]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Exporter Test", "Title",
 CellChangeTimes->{{3.739476251049535*^9, 
  3.739476253702304*^9}},ExpressionUUID->"ecfa08e0-3bd3-4345-bdc1-\
69fc0ac884c9"],

Cell[CellGroupData[{

Cell["Generate Graph and Association from Twine Project", "Subsection",
 CellChangeTimes->{{3.739476261713832*^9, 3.739476269273665*^9}, {
  3.739572907494343*^9, 
  3.739572915140668*^9}},ExpressionUUID->"f33f2278-c878-4b0b-9db0-\
a5a8a6a89d74"],

Cell[CellGroupData[{

Cell["Twine HTML Parser", "Subsubsection",
 CellChangeTimes->{{3.739374767977881*^9, 
  3.739374775377944*^9}},ExpressionUUID->"7720763d-6de6-4376-888f-\
32c0288c4b41"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "generateEdges", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"generateEdges", "[", 
   RowBox[{"parentName_", ",", " ", "links_"}], "]"}], ":=", " ", 
  RowBox[{"Thread", "[", 
   RowBox[{"DirectedEdge", "[", 
    RowBox[{"parentName", ",", " ", "links"}], "]"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"Clear", "[", "extractLinks", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"extractLinks", "[", "passageContent_", "]"}], ":=", 
  RowBox[{"DeleteCases", "[", 
   RowBox[{
    RowBox[{"StringCases", "[", 
     RowBox[{"passageContent", ",", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"\"\<[[\>\"", "~~", 
         RowBox[{"ShortestMatch", "[", "p___", "]"}], "~~", "\"\<]]\>\""}], 
        ")"}], "\[RuleDelayed]", " ", "p"}]}], "]"}], ",", " ", 
    RowBox[{"{", "}"}]}], "]"}]}]}], "Code",
 CellChangeTimes->{3.739397134446692*^9},
 CellLabel->
  "In[1261]:=",ExpressionUUID->"46904399-9fa0-482b-bfa6-78336f9ccb5a"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "twineParserNew", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"twineParserNew", "[", "absoluteFilePath_String", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "fileAsString", ",", "xmlObject", ",", " ", "rootNode", ",", 
      "rootNodeName", ",", " ", "passages", ",", "passageContentThread", ",", 
      "passageAssociation", ",", "assocForm", ",", "edges", ",", "alledges", 
      ",", " ", "g", ",", " ", "v"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"fileAsString", " ", "=", " ", 
      RowBox[{"Import", "[", 
       RowBox[{"absoluteFilePath", ",", " ", "\"\<String\>\""}], "]"}]}], ";",
      "\[IndentingNewLine]", 
     RowBox[{"xmlObject", " ", "=", " ", 
      RowBox[{"parseXML", "[", "fileAsString", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"rootNode", " ", "=", " ", 
      RowBox[{"Cases", "[", 
       RowBox[{"xmlObject", ",", " ", 
        RowBox[{"XMLElement", "[", 
         RowBox[{"\"\<tw-storydata\>\"", ",", " ", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Rule", "[", 
             RowBox[{"\"\<name\>\"", ",", " ", "name_"}], "]"}], ",", "___"}],
            "}"}], ",", " ", "_"}], "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"rootNodeName", " ", "=", 
      RowBox[{
       RowBox[{"Cases", "[", 
        RowBox[{"xmlObject", ",", " ", 
         RowBox[{
          RowBox[{"XMLElement", "[", 
           RowBox[{"\"\<tw-storydata\>\"", ",", " ", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Rule", "[", 
               RowBox[{"\"\<name\>\"", ",", " ", "name_"}], "]"}], ",", 
              "___"}], "}"}], ",", " ", "_"}], "]"}], "\[RuleDelayed]", " ", 
          "name"}]}], "]"}], "/.", 
       RowBox[{
        RowBox[{"{", "storytitle_", "}"}], "\[Rule]", "storytitle"}]}]}], ";",
      "\[IndentingNewLine]", 
     RowBox[{"passages", " ", "=", " ", 
      RowBox[{"Cases", "[", 
       RowBox[{"rootNode", ",", " ", 
        RowBox[{
         RowBox[{"XMLElement", "[", 
          RowBox[{"\"\<tw-passagedata\>\"", ",", " ", 
           RowBox[{"{", 
            RowBox[{"___", ",", 
             RowBox[{"Rule", "[", 
              RowBox[{"\"\<name\>\"", ",", " ", "name_"}], "]"}], ",", 
             "___"}], "}"}], ",", " ", "content_"}], "]"}], "\[RuleDelayed]", 
         " ", 
         RowBox[{"{", 
          RowBox[{"name", ",", "content"}], "}"}]}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"0", ",", " ", "Infinity"}], "}"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"passageContentThread", "=", " ", 
      RowBox[{"AssociationThread", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Transpose", "[", "passages", "]"}], "\[LeftDoubleBracket]", 
         "1", "\[RightDoubleBracket]"}], " ", "\[Rule]", " ", 
        RowBox[{"StringReplace", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Transpose", "[", "passages", "]"}], 
           "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], ",", " ", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{"\"\<[[\>\"", "~~", 
             RowBox[{"ShortestMatch", "[", "p___", "]"}], "~~", 
             "\"\<]]\>\""}], ")"}], "\[RuleDelayed]", " ", "p"}]}], "]"}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"passageAssociation", " ", "=", 
      RowBox[{"AssociateTo", "[", 
       RowBox[{"passageContentThread", ",", " ", 
        RowBox[{"rootNodeName", " ", "\[Rule]", " ", "\"\<Start Here\>\""}]}],
        "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"links", "=", " ", 
      RowBox[{"DeleteCases", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"extractLinks", "[", 
           RowBox[{
           "#", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], "]"}],
           "&"}], "/@", "passages"}], ",", " ", 
        RowBox[{"{", "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"edges", " ", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"generatedEdges", "[", 
         RowBox[{
          RowBox[{"#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}],
           ",", " ", 
          RowBox[{"extractLinks", "[", 
           RowBox[{
           "#", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
           "]"}]}], "]"}], "&"}], "/@", "passages"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"alledges", "=", " ", 
      RowBox[{"Flatten", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"rootNodeName", " ", "\[DirectedEdge]", " ", 
           RowBox[{
            RowBox[{"First", "[", "passages", "]"}], "\[LeftDoubleBracket]", 
            "1", "\[RightDoubleBracket]"}]}], "}"}], ",", 
         RowBox[{"DeleteCases", "[", 
          RowBox[{"edges", ",", " ", 
           RowBox[{"{", "}"}]}], "]"}]}], "}"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"g", " ", "=", 
      RowBox[{"Graph", "[", "alledges", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"v", " ", "=", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"Tooltip", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"VertexList", "[", "g", "]"}], "\[LeftDoubleBracket]", "i",
            "\[RightDoubleBracket]"}], ",", " ", 
          RowBox[{"passageAssociation", "[", 
           RowBox[{
            RowBox[{"VertexList", "[", "g", "]"}], "\[LeftDoubleBracket]", 
            "i", "\[RightDoubleBracket]"}], "]"}]}], "]"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"i", ",", " ", "1", ",", " ", 
          RowBox[{"Length", "[", 
           RowBox[{"VertexList", "[", "g", "]"}], "]"}]}], "}"}]}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"completeGraph", " ", "=", " ", 
      RowBox[{"Graph", "[", 
       RowBox[{"v", ",", " ", "alledges", ",", " ", 
        RowBox[{"VertexLabels", "\[Rule]", "\"\<Name\>\""}], ",", 
        RowBox[{"GraphLayout", " ", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"\"\<LayeredDigraphEmbedding\>\"", ",", " ", 
           RowBox[{"\"\<RootVertex\>\"", "\[Rule]", "rootNodeName"}]}], 
          "}"}]}]}], "\[IndentingNewLine]", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"assocForm", " ", "=", " ", 
      RowBox[{"Block", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"passageContentWithLinks", ",", "completeAssociation"}], 
         "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
         "Create", " ", "Assocation", " ", "between", " ", "passage", " ", 
          "and", " ", "content", " ", "for", " ", "tooltips", " ", "and", " ",
           "remove", " ", "the", " ", "link", " ", "syntax"}], "*)"}], 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"passageContentWithLinks", "=", " ", 
          RowBox[{"AssociationThread", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Transpose", "[", "passages", "]"}], 
             "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], " ", 
            "\[Rule]", " ", 
            RowBox[{
             RowBox[{"Transpose", "[", "passages", "]"}], 
             "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}]}], 
           "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{"Root", " ", "Node", " ", "Association"}], "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"rootAssociation", " ", "=", " ", 
          RowBox[{"<|", 
           RowBox[{
           "rootNodeName", " ", "\[Rule]", " ", "\"\<Start Here\>\""}], 
           "|>"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{
          "Add", " ", "rootnode", " ", "pair", " ", "to", " ", 
           "association"}], "*)"}], "\[IndentingNewLine]", 
         RowBox[{"completeAssociation", " ", "=", 
          RowBox[{"AssociateTo", "[", 
           RowBox[{"rootAssociation", ",", "passageContentWithLinks"}], 
           "]"}]}]}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"completeGraph", ",", " ", "assocForm"}], "}"}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"twineParserNew", "::", "usage"}], " ", "=", " ", 
   "\"\<twineParserNew[path/to/file.html] gives a graph and an association of \
a Twine 2 project\>\""}], ";"}]}], "Input",
 CellChangeTimes->{{3.739374806182001*^9, 3.739374894915627*^9}, {
   3.739374973653462*^9, 3.7393749809473133`*^9}, {3.739375095761365*^9, 
   3.7393751548860683`*^9}, {3.7393752212792892`*^9, 3.739375305676365*^9}, {
   3.7393753461019993`*^9, 3.739375575989257*^9}, {3.7393756598157167`*^9, 
   3.739375736053009*^9}, {3.739375769919919*^9, 3.7393758252633133`*^9}, {
   3.739375872696203*^9, 3.739375978975349*^9}, {3.739376009923346*^9, 
   3.7393760554598494`*^9}, {3.7393761215874853`*^9, 
   3.7393761237153473`*^9}, {3.739376185546053*^9, 3.739376272012074*^9}, {
   3.7393763029738817`*^9, 3.7393763357201777`*^9}, {3.739376373626107*^9, 
   3.739376384990261*^9}, {3.739376432591305*^9, 3.739376434130669*^9}, {
   3.739376514906032*^9, 3.739376531490026*^9}, {3.7393766935572243`*^9, 
   3.739376746799467*^9}, {3.7393768505008307`*^9, 3.7393768842530947`*^9}, {
   3.739377103138013*^9, 3.7393771262512302`*^9}, {3.739377266058628*^9, 
   3.739377439383081*^9}, {3.7393775093269873`*^9, 3.739377516346964*^9}, 
   3.739377566948168*^9, {3.739378180736663*^9, 3.73937820348002*^9}, {
   3.739378918456716*^9, 3.7393789405068617`*^9}, {3.739379071639071*^9, 
   3.739379115966123*^9}, 3.739379178850214*^9, {3.739379281196218*^9, 
   3.7393793099518023`*^9}, {3.7393797662698708`*^9, 3.739379771896049*^9}, {
   3.739379810320086*^9, 3.739379811659005*^9}, {3.739381786960001*^9, 
   3.739381809742724*^9}, 3.7393818789683037`*^9, {3.739386534492612*^9, 
   3.73938653811033*^9}, {3.73938657687955*^9, 3.739386578161581*^9}, 
   3.7393872193706713`*^9, {3.7393873109014063`*^9, 3.739387368062011*^9}, {
   3.739387402805298*^9, 3.739387420190893*^9}, 3.739387454331543*^9, {
   3.7393877423826838`*^9, 3.739387771708704*^9}, {3.7393878137385063`*^9, 
   3.7393878181677923`*^9}, {3.739387873633975*^9, 3.739387976621653*^9}, {
   3.739388132771656*^9, 3.7393882238791523`*^9}, {3.7393882612600317`*^9, 
   3.7393882634561977`*^9}, {3.739388387786929*^9, 3.739388396146327*^9}, {
   3.739388539865389*^9, 3.739388565194478*^9}, {3.739388646468009*^9, 
   3.7393887080846786`*^9}, {3.739388739770355*^9, 3.739388742837929*^9}, {
   3.7393887920895643`*^9, 3.7393888911699467`*^9}, {3.739388927660988*^9, 
   3.739389009498231*^9}, {3.739389075689187*^9, 3.739389076779163*^9}, {
   3.739389117461875*^9, 3.739389136265101*^9}, 3.739389227648139*^9, {
   3.739389409194173*^9, 3.739389490816245*^9}, 3.739389586176837*^9, 
   3.7393897279691772`*^9, {3.739389866094488*^9, 3.739389898301029*^9}, 
   3.739389939374913*^9, {3.739390177179204*^9, 3.7393902462924137`*^9}, {
   3.739390297647389*^9, 3.739390335878374*^9}, {3.739390393306671*^9, 
   3.7393903985226927`*^9}, {3.739390458738628*^9, 3.739390480556881*^9}, {
   3.7393906417926807`*^9, 3.739390672557089*^9}, {3.739390831093926*^9, 
   3.739390844805533*^9}, {3.739390931126623*^9, 3.7393909351476917`*^9}, {
   3.739391028542759*^9, 3.7393911134824867`*^9}, {3.739391147319756*^9, 
   3.7393912758849287`*^9}, {3.73939130994403*^9, 3.7393914070640593`*^9}, {
   3.7393914376738663`*^9, 3.73939159812811*^9}, {3.739391646106786*^9, 
   3.739391709589861*^9}, {3.739391743292994*^9, 3.739391754250177*^9}, {
   3.739391820539048*^9, 3.739391828409499*^9}, {3.7393919434281693`*^9, 
   3.739391949191443*^9}, {3.739392164304327*^9, 3.73939218830127*^9}, {
   3.73939223627969*^9, 3.739392297295072*^9}, {3.739392343696042*^9, 
   3.739392402677717*^9}, {3.739392442111597*^9, 3.739392458456286*^9}, {
   3.739392510545741*^9, 3.7393926114717493`*^9}, {3.7393926659349337`*^9, 
   3.739392771773511*^9}, {3.739392819077305*^9, 3.739392851342307*^9}, {
   3.7393931702439613`*^9, 3.739393238376453*^9}, {3.7393933868486423`*^9, 
   3.739393391137871*^9}, {3.739393471631384*^9, 3.7393936192618647`*^9}, 
   3.7393936706833153`*^9, {3.739393711982561*^9, 3.739393739834778*^9}, {
   3.739393770087821*^9, 3.73939381003405*^9}, {3.739393887065814*^9, 
   3.7393938945891*^9}, {3.7393939532683573`*^9, 3.739394032908309*^9}, {
   3.7393941636706743`*^9, 3.7393942024593477`*^9}, {3.7393944490955257`*^9, 
   3.739394534869155*^9}, {3.739394579654051*^9, 3.739394690801261*^9}, {
   3.739395873455102*^9, 3.739395893942975*^9}, {3.739395926520697*^9, 
   3.739395927806181*^9}, {3.739396957905855*^9, 3.739396958692626*^9}, {
   3.73939708749821*^9, 3.739397123475644*^9}, {3.7393971700365953`*^9, 
   3.7393971721346083`*^9}, {3.739397230645089*^9, 3.7393973828374968`*^9}, {
   3.7394765383418503`*^9, 3.739476590662444*^9}, {3.739479345427473*^9, 
   3.739479354088201*^9}, {3.739479491540588*^9, 3.7394795313539753`*^9}, {
   3.7394795879383698`*^9, 3.739479590154787*^9}, {3.739479637007125*^9, 
   3.739479640178238*^9}, {3.739479680761251*^9, 3.7394797129307404`*^9}, {
   3.739479757624714*^9, 3.739479772346043*^9}, {3.73947980644901*^9, 
   3.739479810785808*^9}, 3.739479844526219*^9, {3.7394798932962713`*^9, 
   3.7394799246607447`*^9}, {3.739479960309442*^9, 3.739479960908112*^9}, {
   3.739571579634049*^9, 3.739571588388234*^9}, {3.7395716330818367`*^9, 
   3.739571634309952*^9}, {3.7395716709272833`*^9, 3.739571677794207*^9}, {
   3.739571781194203*^9, 3.739571782276815*^9}, {3.739571843811284*^9, 
   3.739571853742887*^9}, {3.739571907516419*^9, 3.739571908217226*^9}, {
   3.739572871222434*^9, 3.739572882131124*^9}},
 CellLabel->
  "In[1378]:=",ExpressionUUID->"2c8c6397-1c6a-42a9-9877-e4851a6fb364"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "twineParserNew"}]], "Input",
 CellChangeTimes->{{3.739397338399507*^9, 3.7393973397909117`*^9}, {
  3.739571679665616*^9, 3.73957167994191*^9}},
 CellLabel->
  "In[1381]:=",ExpressionUUID->"330bfd4e-4856-4057-9cef-a1ec3557d7e7"],

Cell[BoxData["\<\"twineParserNew[path/to/file.html] gives a graph and an \
association of a Twine 2 project\"\>"], "Print", "PrintUsage",
 CellChangeTimes->{3.739572890549219*^9},
 CellTags->
  "Info13813739558490-6224775",ExpressionUUID->"1857c035-de30-448e-834c-\
62df95d1e27a"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Potential Procedure", "Subsection",
 CellChangeTimes->{{3.739539291041877*^9, 
  3.739539294043206*^9}},ExpressionUUID->"e1a8fd93-d1b1-4de0-a83e-\
d273223ee92c"],

Cell[CellGroupData[{

Cell["Exporter", "Subsubsection",
 CellChangeTimes->{{3.739566910152883*^9, 3.739566913658042*^9}, {
  3.7395712268521757`*^9, 
  3.739571227801991*^9}},ExpressionUUID->"032eb45c-6fca-4f4c-a796-\
dc8e462b90c3"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "exportTwineProject", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"exportTwineProject", "[", 
   RowBox[{"associationForm_Association", ",", " ", "exportPathToFile_"}], 
   "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"storyAssoc", " ", "=", " ", "associationForm"}], " ", ",", " ",
       "sTemplateHeader", ",", "assocLength", ",", "passageAssoc", ",", 
      "passages", ",", " ", "stringOfStory"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"sTemplateHeader", " ", "=", " ", 
      RowBox[{
       RowBox[{
       "StringTemplate", "[", 
        "\"\<\n<tw-storydata name=\\\"`storyTitle`\\\" startnode=\\\"1\\\" \
creator=\\\"Twine\\\" creator-version=\\\"2.2.1\\\" zoom=\\\"1\\\" \
format=\\\"Harlowe\\\" format-version=\\\"2.1.0\\\" options=\\\"\\\" hidden>\n\
\n  <style role=\\\"stylesheet\\\" id=\\\"twine-user-stylesheet\\\" \
type=\\\"text/twine-css\\\">\n  </style>\n  <script role=\\\"script\\\" id=\\\
\"twine-user-script\\\" type=\\\"text/twine-javascript\\\">\n  </script>\n\
\>\"", "\n", "]"}], "[", 
       RowBox[{"<|", 
        RowBox[{"\"\<storyTitle\>\"", " ", "\[Rule]", " ", 
         RowBox[{"First", "[", 
          RowBox[{"Keys", "[", "storyAssoc", "]"}], "]"}]}], "|>"}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"passageAssoc", " ", "=", 
      RowBox[{"KeyDrop", "[", 
       RowBox[{"testAssociation", ",", 
        RowBox[{"First", "[", 
         RowBox[{"Keys", "[", "testAssociation", "]"}], "]"}]}], "]"}]}], ";",
      "\[IndentingNewLine]", 
     RowBox[{"assocLength", "=", 
      RowBox[{"Length", "[", "passageAssoc", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"passages", "=", 
      RowBox[{"Table", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{
         "StringTemplate", "[", 
          "\"\<<tw-passagedata pid=\\\"`pid`\\\" \nname=\\\"`passagename`\\\" \
\ntags=\\\"\\\"\nposition=\\\"320,377\\\"\nsize=\\\"100,100\\\"\n\
>`content`</tw-passagedata>\>\"", "]"}], "[", 
         RowBox[{"<|", 
          RowBox[{
           RowBox[{"\"\<pid\>\"", "\[Rule]", " ", "index"}], ",", 
           RowBox[{"\"\<passagename\>\"", " ", "\[Rule]", " ", 
            RowBox[{
             RowBox[{"Keys", "[", "passageAssoc", "]"}], 
             "\[LeftDoubleBracket]", "index", "\[RightDoubleBracket]"}]}], 
           ",", " ", 
           RowBox[{"\"\<content\>\"", " ", "\[Rule]", " ", 
            RowBox[{
             RowBox[{"Values", "[", "passageAssoc", "]"}], 
             "\[LeftDoubleBracket]", "index", "\[RightDoubleBracket]"}]}]}], 
          "|>"}], "]"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"index", ",", " ", "1", ",", "assocLength", ",", "1"}], 
         "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"stringOfStory", "=", " ", 
      RowBox[{"StringJoin", "[", 
       RowBox[{"{", 
        RowBox[{
        "sTemplateHeader", ",", " ", "passages", ",", " ", 
         "\"\<</tw-storydata>\>\""}], "}"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Export", "[", 
      RowBox[{
       RowBox[{"exportPathToFile", " ", "<>", "\"\<.html\>\""}], ",", 
       "stringOfStory", " ", ",", " ", "\"\<HTMLFragment\>\""}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 CellChangeTimes->{{3.739567581531328*^9, 3.739567608338043*^9}, {
   3.739567653797872*^9, 3.7395677081959047`*^9}, {3.739567742146233*^9, 
   3.739567810273303*^9}, {3.73956791220366*^9, 3.739567932729793*^9}, {
   3.739568003122321*^9, 3.739568237965077*^9}, {3.739568276066341*^9, 
   3.7395683508760033`*^9}, {3.739568411150268*^9, 3.739568482514613*^9}, {
   3.7395685143026857`*^9, 3.739568540113401*^9}, {3.73956857171843*^9, 
   3.739568738891552*^9}, 3.739568813656024*^9, {3.739568897492847*^9, 
   3.7395690467994947`*^9}, {3.739569297643896*^9, 3.739569344890386*^9}, {
   3.739569384618938*^9, 3.739569408242936*^9}, {3.739570076668717*^9, 
   3.739570189570236*^9}, {3.739571251189601*^9, 3.739571259588101*^9}, {
   3.739572100776984*^9, 3.73957210514614*^9}, {3.7395721368699703`*^9, 
   3.739572136965352*^9}, {3.7395730063466387`*^9, 3.739573019470132*^9}, 
   3.739573057075988*^9, {3.739646157497747*^9, 
   3.739646160354622*^9}},ExpressionUUID->"f111229e-fff9-4e39-b9bc-\
e9731f7921fb"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"exportTwineProject", "[", 
   RowBox[{"testAssociation", ",", "\"\<~/Desktop/fifthExport\>\""}], "]"}], 
  "*)"}]], "Input",
 CellChangeTimes->{{3.7395677204322166`*^9, 3.739567724669854*^9}, {
   3.739568743844552*^9, 3.7395687825935793`*^9}, {3.739569018907531*^9, 
   3.739569019447372*^9}, {3.7395694143936996`*^9, 3.739569414791526*^9}, {
   3.7395700877715178`*^9, 3.739570088390316*^9}, {3.739570313304552*^9, 
   3.739570313857752*^9}, {3.739571262697036*^9, 3.7395712687149563`*^9}, 
   3.73964748984813*^9},ExpressionUUID->"2fe889b5-04e5-4e17-8679-\
343cd7f24c01"],

Cell[BoxData["\<\"~/Desktop/fifthExport.html\"\>"], "Output",
 CellChangeTimes->{{3.739570083112102*^9, 3.7395700893695374`*^9}, 
   3.7395701994147587`*^9, 3.739570328760832*^9},
 CellLabel->
  "Out[1316]=",ExpressionUUID->"2e045da4-379f-4f23-8392-d1b76b1dc618"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Export Graph and Association", "Subsubsection",
 CellChangeTimes->{{3.739571162897512*^9, 3.739571187443885*^9}, {
  3.739572347572604*^9, 
  3.739572357479022*^9}},ExpressionUUID->"f1b47939-e6e4-4fa6-b2a4-\
9fa4e527df75"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"twineGraph", ",", " ", "twineAssoc"}], "}"}], " ", "=", 
   RowBox[{
   "twineParserNew", "[", 
    "\"\<~/Documents/Twine/Stories/TwineBridge_Test.html\>\"", "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.7395717156530447`*^9, 3.739571727411942*^9}, {
   3.7395719377999563`*^9, 3.739571956245441*^9}, 3.73957230784433*^9},
 CellLabel->
  "In[1376]:=",ExpressionUUID->"6034025e-c63c-42b0-b294-fde079fffcc4"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"GraphicsRow", "[", 
  RowBox[{"{", 
   RowBox[{"twineGraph", ",", " ", "twineAssoc"}], "}"}], "]"}]], "Input",
 CellChangeTimes->{{3.739571959600834*^9, 3.739571961253092*^9}, {
  3.739572264450594*^9, 3.739572291342539*^9}},
 CellLabel->
  "In[1377]:=",ExpressionUUID->"2ee6bf06-8eac-44b3-92af-7c707372fbbc"],

Cell[BoxData[
 GraphicsBox[{{}, {InsetBox[
     FormBox[
      GraphicsBox[
       NamespaceBox["NetworkGraphics",
        DynamicModuleBox[{Typeset`graph = HoldComplete[
          
          Graph[{"TwineBridge_Test", "First Passage", "Left", "Right", "Up", 
            "Down", "get going", "do something", "you do something"}, {{{1, 
            2}, {2, 3}, {2, 4}, {3, 5}, {3, 6}, {4, 5}, {4, 6}, {5, 7}, {6, 
            5}, {7, 8}, {8, 9}}, Null}, {
           GraphLayout -> {
             "LayeredDigraphEmbedding", "RootVertex" -> "TwineBridge_Test"}, 
            Properties -> {
             "get going" -> {
               Tooltip -> "Now that we are going, how about we do something"},
               "Left" -> {
               Tooltip -> 
                "From here, there are still other places to go. We can go Up \
or Down"}, "First Passage" -> {
               Tooltip -> 
                "This is my first passage. Where can I go from here? How \
about Left , or Right?"}, 
              "you do something" -> {Tooltip -> " Go, Get out of here! "}, 
              "Right" -> {
               Tooltip -> 
                "From here, there are still other places to go. We can go Up \
or Down"}, "do something" -> {
               Tooltip -> 
                " Hi, I&#39;m doing something, why don&#39;t you do \
something?"}, "TwineBridge_Test" -> {Tooltip -> "Start Here"}, 
              "Up" -> {
               Tooltip -> "Now that we are up why don&#39;t we get going?"}, 
              "Down" -> {
               Tooltip -> "Now that we are down, why don&#39;t we get Up?"}}, 
            VertexLabels -> {"Name"}}]]}, 
         TagBox[GraphicsGroupBox[{
            {Hue[0.6, 0.7, 0.5], Opacity[0.7], Arrowheads[Medium], 
             ArrowBox[{{0., 7.}, {0., 6.}}, 0.05338164251207729], 
             ArrowBox[{{0., 6.}, {-1., 5.}}, 0.05338164251207729], 
             ArrowBox[{{0., 6.}, {0., 5.}}, 0.05338164251207729], 
             ArrowBox[BezierCurveBox[CompressedData["
1:eJxTTMoPSmViYGCQAWIQDQEf9kNoEYfwRL8SjQMf9q9Mf/Po63lhh3l5Z/m7
p3zcH7GEx+buLGGHy+q1l9RrP+3n2ZbAvS1B2OFrT+yef5Wf9x+e8yKgQVHY
gQ2s4cv+OrAGIQe26A2s0Ru+7rd/Odnu5WQhhy+HlVIfvPy2n8V/+7N2VyGH
CzeOvp5v/mP/mU4+VolPgg6zZoLAz/0QWtABYs6v/a9A2u0EHVaB3fV7v2Xf
Y4u+xwIOcscLZY4X/tnf1QECAg5Xy0x2rj/0Z/+NJl0gEnC4BuUH/Fri/2sJ
P1z9h3cgwAc3D2ycBZ9DPdQ+PbABvHD3nD0DAjwO56HuBWuT5nH4DPXPr8SJ
Rh9KuB3Yof5tAVl/g8uBHRoeEP9ywcOr+phe3P89nA6XoOEJ8R8nPLzByk9x
OERA42ONgbqVSAKHA2p8cTgAAIwM5dI=
              "]], 0.05338164251207729], 
             ArrowBox[{{-1., 5.}, {-1., 4.}}, 0.05338164251207729], 
             ArrowBox[BezierCurveBox[CompressedData["
1:eJxTTMoPSmViYGCQAWIQjQpEHGCslelvHn09LwznRyzhsbk7C8Hn2ZbAvS0B
wT8850VAgyKCXwfWIATn27+cbPdyMoLP4r/9Wbsrgn+mk49V4pMgnD9rJggI
OizctHIV8+yc/eszpwrxO8D4Pfv9ntrdq3op4FBV8p/fSHzB/kqeaX/uTBWA
yq/Zr3N/Vq6pq4BD/+SQu1KR2/Zf2zUrieM9P1T9gf1ZfNH9kyL5HY68WXlu
3bOj+wV2liVynuKD6j+z/9yutzdyHPgcuJL/B0pIXdo/X/jA1z17eB2OtU/8
esvk5n62874LU27yOCi6tF30P39/f435eVYxNh4HvjPvinZ/ebT/n4+L8kUn
bodbB70lVxx8ur+Lf+3Pqf1cDmXMt27n+r3Yr1zP2ZnyhtPh0YSZu3hmv9p/
YnbkRZtITgeZrK6tLcvf7K9MnXtJ7hqHg3r/mjNXi9/tN79zpYcrmQMaPh/2
Q2gOBwC5t6oJ
              "]], 0.05338164251207729], 
             ArrowBox[{{0., 5.}, {-1., 4.}}, 0.05338164251207729], 
             ArrowBox[{{-1., 3.}, {-1., 2.}}, 0.05338164251207729], 
             ArrowBox[{{-1., 4.}, {-1., 3.}}, 0.05338164251207729], 
             ArrowBox[{{-1., 2.}, {-1., 1.}}, 0.05338164251207729], 
             ArrowBox[{{-1., 1.}, {-1., 0.}}, 0.05338164251207729]}, 
            {Hue[0.6, 0.2, 0.8], EdgeForm[{GrayLevel[0], Opacity[0.7]}], {
              TagBox[
               TooltipBox[DiskBox[{0., 7.}, 0.05338164251207729],
                "\"Start Here\"",
                TooltipStyle->"TextStyling"],
               Annotation[#, "Start Here", "Tooltip"]& ], 
              InsetBox["\<\"TwineBridge_Test\"\>", 
               Offset[{2, 2}, {0.05338164251207729, 7.053381642512077}], 
               ImageScaled[{0, 0}],
               BaseStyle->"Graphics"]}, {
              TagBox[
               TooltipBox[DiskBox[{0., 6.}, 0.05338164251207729],
                
                "\"This is my first passage. Where can I go from here? How \
about Left , or Right?\"",
                TooltipStyle->"TextStyling"],
               
               Annotation[#, 
                "This is my first passage. Where can I go from here? How \
about Left , or Right?", "Tooltip"]& ], 
              InsetBox["\<\"First Passage\"\>", 
               Offset[{2, 2}, {0.05338164251207729, 6.053381642512077}], 
               ImageScaled[{0, 0}],
               BaseStyle->"Graphics"]}, {
              TagBox[
               TooltipBox[DiskBox[{-1., 5.}, 0.05338164251207729],
                
                "\"From here, there are still other places to go. We can go \
Up or Down\"",
                TooltipStyle->"TextStyling"],
               
               Annotation[#, 
                "From here, there are still other places to go. We can go Up \
or Down", "Tooltip"]& ], 
              InsetBox["\<\"Left\"\>", 
               Offset[{2, 2}, {-0.9466183574879227, 5.053381642512077}], 
               ImageScaled[{0, 0}],
               BaseStyle->"Graphics"]}, {
              TagBox[
               TooltipBox[DiskBox[{0., 5.}, 0.05338164251207729],
                
                "\"From here, there are still other places to go. We can go \
Up or Down\"",
                TooltipStyle->"TextStyling"],
               
               Annotation[#, 
                "From here, there are still other places to go. We can go Up \
or Down", "Tooltip"]& ], 
              InsetBox["\<\"Right\"\>", 
               Offset[{2, 2}, {0.05338164251207729, 5.053381642512077}], 
               ImageScaled[{0, 0}],
               BaseStyle->"Graphics"]}, {
              TagBox[
               TooltipBox[DiskBox[{-1., 3.}, 0.05338164251207729],
                "\"Now that we are up why don&#39;t we get going?\"",
                TooltipStyle->"TextStyling"],
               
               Annotation[#, "Now that we are up why don&#39;t we get going?",
                 "Tooltip"]& ], 
              InsetBox["\<\"Up\"\>", 
               Offset[{2, 2}, {-0.9466183574879227, 3.053381642512077}], 
               ImageScaled[{0, 0}],
               BaseStyle->"Graphics"]}, {
              TagBox[
               TooltipBox[DiskBox[{-1., 4.}, 0.05338164251207729],
                "\"Now that we are down, why don&#39;t we get Up?\"",
                TooltipStyle->"TextStyling"],
               
               Annotation[#, "Now that we are down, why don&#39;t we get Up?",
                 "Tooltip"]& ], 
              InsetBox["\<\"Down\"\>", 
               Offset[{2, 2}, {-0.9466183574879227, 4.053381642512077}], 
               ImageScaled[{0, 0}],
               BaseStyle->"Graphics"]}, {
              TagBox[
               TooltipBox[DiskBox[{-1., 2.}, 0.05338164251207729],
                "\"Now that we are going, how about we do something\"",
                TooltipStyle->"TextStyling"],
               
               Annotation[#, 
                "Now that we are going, how about we do something", 
                "Tooltip"]& ], 
              InsetBox["\<\"get going\"\>", 
               Offset[{2, 2}, {-0.9466183574879227, 2.053381642512077}], 
               ImageScaled[{0, 0}],
               BaseStyle->"Graphics"]}, {
              TagBox[
               TooltipBox[DiskBox[{-1., 1.}, 0.05338164251207729],
                
                "\" Hi, I&#39;m doing something, why don&#39;t you do \
something?\"",
                TooltipStyle->"TextStyling"],
               
               Annotation[#, 
                " Hi, I&#39;m doing something, why don&#39;t you do \
something?", "Tooltip"]& ], 
              InsetBox["\<\"do something\"\>", 
               Offset[{2, 2}, {-0.9466183574879227, 1.0533816425120772}], 
               ImageScaled[{0, 0}],
               BaseStyle->"Graphics"]}, {
              TagBox[
               TooltipBox[DiskBox[{-1., 0.}, 0.05338164251207729],
                "\" Go, Get out of here! \"",
                TooltipStyle->"TextStyling"],
               Annotation[#, " Go, Get out of here! ", "Tooltip"]& ], 
              InsetBox["\<\"you do something\"\>", 
               Offset[{2, 2}, {-0.9466183574879227, 0.05338164251207729}], 
               ImageScaled[{0, 0}],
               BaseStyle->"Graphics"]}}}],
          MouseAppearanceTag["NetworkGraphics"]],
         AllowKernelInitialization->False]],
       DefaultBaseStyle->{
        "NetworkGraphics", FrontEnd`GraphicsHighlightColor -> 
         Hue[0.8, 1., 0.6]},
       FormatType->TraditionalForm,
       FrameTicks->None],
      TraditionalForm], {192., -189.}, {Center, Center}, {360., 360.}], 
    InsetBox[
     RowBox[{"\[LeftAssociation]", 
      RowBox[{
       RowBox[{"\<\"TwineBridge_Test\"\>", "\[Rule]", "\<\"Start Here\"\>"}], 
       ",", 
       RowBox[{"\<\"First Passage\"\>", 
        "\[Rule]", "\<\"This is my first passage. Where can I go from here? \
How about [[Left]] , or [[Right]]?\"\>"}], ",", 
       RowBox[{"\<\"Left\"\>", 
        "\[Rule]", "\<\"From here, there are still other places to go. We can \
go [[Up]] or [[Down]]\"\>"}], ",", 
       RowBox[{"\<\"Right\"\>", 
        "\[Rule]", "\<\"From here, there are still other places to go. We can \
go [[Up]] or [[Down]]\"\>"}], ",", 
       RowBox[{"\<\"Up\"\>", 
        "\[Rule]", "\<\"Now that we are up why don&#39;t we [[get \
going]]?\"\>"}], ",", 
       RowBox[{"\<\"Down\"\>", 
        "\[Rule]", "\<\"Now that we are down, why don&#39;t we get \
[[Up]]?\"\>"}], ",", 
       RowBox[{"\<\"get going\"\>", 
        "\[Rule]", "\<\"Now that we are going, how about we [[do \
something]]\"\>"}], ",", 
       RowBox[{"\<\"do something\"\>", 
        "\[Rule]", "\<\" Hi, I&#39;m doing something, why don&#39;t [[you do \
something]]?\"\>"}], ",", 
       RowBox[{"\<\"you do something\"\>", 
        "\[Rule]", "\<\" Go, Get out of here! \"\>"}]}], 
      "\[RightAssociation]"}], {576., -189.}, {
     Center, Center}, {360., 360.}]}, {}},
  ContentSelectable->True,
  ImageSize->{517.04296875, Automatic},
  PlotRangePadding->{6, 5}]], "Output",
 CellChangeTimes->{
  3.739571962015888*^9, {3.739572281628257*^9, 3.739572311612146*^9}},
 CellLabel->
  "Out[1377]=",ExpressionUUID->"7b5fdba4-9b20-4298-ab75-b0ff8fbf043f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"VertexList", "[", "twineGraph", "]"}]], "Input",
 CellChangeTimes->{{3.739638445388156*^9, 3.739638451663671*^9}},
 CellLabel->
  "In[1499]:=",ExpressionUUID->"9e532908-0b43-4ce4-bb5f-89633552077c"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"TwineBridge_Test\"\>", ",", "\<\"First Passage\"\>", 
   ",", "\<\"Left\"\>", ",", "\<\"Right\"\>", ",", "\<\"Up\"\>", 
   ",", "\<\"Down\"\>", ",", "\<\"get going\"\>", ",", "\<\"do something\"\>",
    ",", "\<\"you do something\"\>"}], "}"}]], "Output",
 CellChangeTimes->{3.739638452164118*^9},
 CellLabel->
  "Out[1499]=",ExpressionUUID->"b3a3f240-b0d1-490a-8898-5a65bbec50ee"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EdgeList", "[", "twineGraph", "]"}]], "Input",
 CellChangeTimes->{{3.7396384669763203`*^9, 3.7396384712922697`*^9}},
 CellLabel->
  "In[1500]:=",ExpressionUUID->"68bf11c7-0217-4af9-8351-1f6849268a8b"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"\<\"TwineBridge_Test\"\>", 
    "\[DirectedEdge]", "\<\"First Passage\"\>"}], ",", 
   RowBox[{"\<\"First Passage\"\>", "\[DirectedEdge]", "\<\"Left\"\>"}], ",", 
   
   RowBox[{"\<\"First Passage\"\>", "\[DirectedEdge]", "\<\"Right\"\>"}], ",", 
   RowBox[{"\<\"Left\"\>", "\[DirectedEdge]", "\<\"Up\"\>"}], ",", 
   RowBox[{"\<\"Left\"\>", "\[DirectedEdge]", "\<\"Down\"\>"}], ",", 
   RowBox[{"\<\"Right\"\>", "\[DirectedEdge]", "\<\"Up\"\>"}], ",", 
   RowBox[{"\<\"Right\"\>", "\[DirectedEdge]", "\<\"Down\"\>"}], ",", 
   RowBox[{"\<\"Up\"\>", "\[DirectedEdge]", "\<\"get going\"\>"}], ",", 
   RowBox[{"\<\"Down\"\>", "\[DirectedEdge]", "\<\"Up\"\>"}], ",", 
   RowBox[{"\<\"get going\"\>", "\[DirectedEdge]", "\<\"do something\"\>"}], 
   ",", 
   RowBox[{"\<\"do something\"\>", 
    "\[DirectedEdge]", "\<\"you do something\"\>"}]}], "}"}]], "Output",
 CellChangeTimes->{3.739638471622459*^9},
 CellLabel->
  "Out[1500]=",ExpressionUUID->"fff79204-8a55-475e-a16e-976eb0de3c66"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"exportTwineProject", "[", 
  RowBox[{"twineAssoc", ",", "\"\<~/Desktop/correctExport\>\""}], " ", 
  "]"}]], "Input",
 CellChangeTimes->{{3.739571968886073*^9, 3.739572008928783*^9}},
 CellLabel->
  "In[1373]:=",ExpressionUUID->"ab08f0f2-4141-4ec3-b04e-41e39cbc477c"],

Cell[BoxData["\<\"~/Desktop/correctExport.html\"\>"], "Output",
 CellChangeTimes->{
  3.739572014666147*^9, {3.7395721144515123`*^9, 3.739572142573406*^9}},
 CellLabel->
  "Out[1373]=",ExpressionUUID->"885503a4-76e9-4f87-bab0-2f6df09c97c8"]
}, Open  ]],

Cell["\<\
Need some way to place the positions. Some function of the pid\
\[CloseCurlyQuote]s perhaps (but) before that, export needs to work on a \
graph.\
\>", "Text",
 CellChangeTimes->{{3.739572370764071*^9, 3.7395724182982397`*^9}, {
  3.739573183847417*^9, 
  3.7395731974617023`*^9}},ExpressionUUID->"56e8ff23-15be-4e5d-93fd-\
ce0cfaa66a06"]
}, Closed]],

Cell[CellGroupData[{

Cell["Generate graphs from associations? | Yes by Normal;", "Subsubsection",
 CellChangeTimes->{{3.739572936514039*^9, 3.739572942136454*^9}, {
   3.739573066865993*^9, 3.739573071262014*^9}, 
   3.739640136561104*^9},ExpressionUUID->"0ec8cec1-fedd-4a47-9b16-\
58ee3857a3a3"],

Cell[TextData[{
 "Really, the question is can you compose Twine Story Structure from a graph.\
\nSo first, let\[CloseCurlyQuote]s compose a graph \[LongDash] write it \
explicitly to follow TwineStory Structure. (Remember ",
 StyleBox["VertexList", "Input"],
 " and ",
 StyleBox["EdgeList", "Input"],
 ")"
}], "Text",
 CellChangeTimes->{{3.739573073488718*^9, 3.739573141892805*^9}, {
  3.739573213265099*^9, 
  3.7395732401582937`*^9}},ExpressionUUID->"29ecd907-a2f5-44ff-a172-\
d78094ebe43b"],

Cell[TextData[StyleBox["Graph[{... twinestructure ...}]", "Input"]], "Text",
 CellChangeTimes->{{3.7395731438157043`*^9, 
  3.739573160070673*^9}},ExpressionUUID->"f39e5609-62f9-49e2-a04e-\
5ac3ef323b79"],

Cell["\<\
Also, should I allow one to compose the story via text? for example:

\[OpenCurlyDoubleQuote]
PassageName:My Story, PassageContent: Welcome, [[First Passage]]
PassageName:First Passage, PassageContent:This is My First Passage. Go to the \
[[Second]]
PassageName:Second, PassageContent:This is the second passage.\
\[CloseCurlyDoubleQuote]\
\>", "Text",
 CellChangeTimes->{{3.739629008010249*^9, 
  3.739629237025804*^9}},ExpressionUUID->"53cb5875-a097-46d2-9867-\
23b307d84881"]
}, Closed]],

Cell[CellGroupData[{

Cell["Let\[CloseCurlyQuote]s just define a graph, then go from there", \
"Subsubsection",
 CellChangeTimes->{{3.739629392415571*^9, 
  3.739629397773871*^9}},ExpressionUUID->"f8919303-8031-4d6c-a3d7-\
6a54f02b89e0"],

Cell["\<\
Perhaps the use-case / workflow can be refined later. Right now, I just want \
to create a way to export a graph to a Twine Story.

The first node in the graph will be the story-title, i.e. the start of your \
story. Each node will hold a title and content\
\>", "Text",
 CellChangeTimes->{{3.7396294016342793`*^9, 3.739629451415408*^9}, {
  3.739629509027946*^9, 3.7396295222254763`*^9}, {3.739629579427847*^9, 
  3.739629603038975*^9}, {3.739629711968178*^9, 
  3.7396297226644993`*^9}},ExpressionUUID->"66906880-65f9-4a39-80e9-\
f3fd146ef567"]
}, Open  ]],

Cell[CellGroupData[{

Cell["String Representation?", "Subsubsection",
 CellChangeTimes->{{3.739645666441125*^9, 
  3.739645676913373*^9}},ExpressionUUID->"bd62fbd1-a409-4ae5-992f-\
f8fd6e5f9bfb"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "storyTitle", ",", " ", "passage1", ",", " ", "passage2", ",", " ", 
     "passage3"}], "}"}], "=", " ", 
   RowBox[{"{", 
    RowBox[{
    "\"\<Test Story | [[First Passage]]\>\"", ",", " ", 
     "\"\<First Passage | Welcome to Passge 1, let's go to Passage \
[[Two]]\>\"", ",", " ", 
     "\"\<Two | Welcome to Passage 2, let's go to passage [[Three]]\>\"", ",",
      " ", "\"\<Three | Here is passage 3!\>\""}], "}"}]}], 
  "\[IndentingNewLine]"}]], "Input",
 CellChangeTimes->{{3.739629525478698*^9, 3.73962954023415*^9}, {
  3.7396296535325317`*^9, 3.739629690204398*^9}, {3.739629739893116*^9, 
  3.7396297448120403`*^9}, {3.73962981679696*^9, 3.739629978007578*^9}, {
  3.73963004752525*^9, 3.7396300560336113`*^9}, {3.739633605795168*^9, 
  3.739633649464815*^9}},
 CellLabel->
  "In[1448]:=",ExpressionUUID->"de331acc-d004-4c17-bfa5-f9d53c422695"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"Test Story | [[First Passage]]\"\>", 
   ",", "\<\"First Passage | Welcome to Passge 1, let's go to Passage [[Two]]\
\"\>", ",", "\<\"Two | Welcome to Passage 2, let's go to passage \
[[Three]]\"\>", ",", "\<\"Three | Here is passage 3!\"\>"}], "}"}]], "Output",\

 CellChangeTimes->{3.7396336514982157`*^9},
 CellLabel->
  "Out[1448]=",ExpressionUUID->"ac6f2ffd-98a7-4360-84b4-c89e6c9ce78f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"StringCases", "[", 
  RowBox[{"%1448", ",", " ", 
   RowBox[{
    RowBox[{"StartOfString", "~~", "s___", " ", "~~", "\"\< |\>\""}], " ", 
    "\[RuleDelayed]", " ", "s"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.7396336569221697`*^9, 3.739633794482024*^9}, {
  3.739633852034234*^9, 3.739633892981988*^9}},
 CellLabel->
  "In[1463]:=",ExpressionUUID->"20f199de-ed6d-4aaf-9c38-632a598563fc"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", "\<\"Test Story\"\>", "}"}], ",", 
   RowBox[{"{", "\<\"First Passage\"\>", "}"}], ",", 
   RowBox[{"{", "\<\"Two\"\>", "}"}], ",", 
   RowBox[{"{", "\<\"Three\"\>", "}"}]}], "}"}]], "Output",
 CellChangeTimes->{{3.739633713753615*^9, 3.739633776328203*^9}, {
  3.7396338530480537`*^9, 3.7396338935201902`*^9}},
 CellLabel->
  "Out[1463]=",ExpressionUUID->"2bb209d9-1836-4e15-9a50-4e1287e84dec"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"StringCases", "[", 
  RowBox[{"%1448", ",", " ", 
   RowBox[{
    RowBox[{"\"\< | \>\"", " ", "~~", "s___"}], " ", "\[RuleDelayed]", " ", 
    "s"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.7396339107822533`*^9, 3.739633928087344*^9}},
 CellLabel->
  "In[1465]:=",ExpressionUUID->"904827de-567b-4f3f-b92a-31193e8a3950"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", "\<\"[[First Passage]]\"\>", "}"}], ",", 
   RowBox[{
   "{", "\<\"Welcome to Passge 1, let's go to Passage [[Two]]\"\>", "}"}], 
   ",", 
   RowBox[{
   "{", "\<\"Welcome to Passage 2, let's go to passage [[Three]]\"\>", "}"}], 
   ",", 
   RowBox[{"{", "\<\"Here is passage 3!\"\>", "}"}]}], "}"}]], "Output",
 CellChangeTimes->{{3.7396339178592863`*^9, 3.739633928805683*^9}},
 CellLabel->
  "Out[1465]=",ExpressionUUID->"81594118-d872-4fb1-bf48-b145e75409cd"]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Association Representation", "Subsubsection",
 CellChangeTimes->{{3.739645684665851*^9, 
  3.7396456897004232`*^9}},ExpressionUUID->"b8c03714-132a-4de2-aa95-\
78b54bbb5f19"],

Cell[CellGroupData[{

Cell[BoxData["testAssociation"], "Input",
 CellLabel->
  "In[1503]:=",ExpressionUUID->"f0ec408c-ec98-43f1-8fb7-847dc50e7b31"],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{"\<\"TwineBridge_Test\"\>", "\[Rule]", "\<\"Start Here\"\>"}], ",", 
   RowBox[{"\<\"First Passage\"\>", 
    "\[Rule]", "\<\"This is my first passage. Where can I go from here? How \
about [[Left]] , or [[Right]]?\"\>"}], ",", 
   RowBox[{"\<\"Left\"\>", 
    "\[Rule]", "\<\"From here, there are still other places to go. We can go \
[[Up]] or [[Down]]\"\>"}], ",", 
   RowBox[{"\<\"Right\"\>", 
    "\[Rule]", "\<\"From here, there are still other places to go. We can go \
[[Up]] or [[Down]]\"\>"}], ",", 
   RowBox[{"\<\"Up\"\>", 
    "\[Rule]", "\<\"Now that we are up why don&#39;t we [[get going]]?\"\>"}],
    ",", 
   RowBox[{"\<\"Down\"\>", 
    "\[Rule]", "\<\"Now that we are down, why don&#39;t we get [[Up]]?\"\>"}],
    ",", 
   RowBox[{"\<\"get going\"\>", 
    "\[Rule]", "\<\"Now that we are going, how about we [[do \
something]]\"\>"}], ",", 
   RowBox[{"\<\"do something\"\>", 
    "\[Rule]", "\<\" Hi, I&#39;m doing something, why don&#39;t [[you do \
something]]?\"\>"}], ",", 
   RowBox[{"\<\"you do something\"\>", 
    "\[Rule]", "\<\" Go, Get out of here! \"\>"}]}], 
  "\[RightAssociation]"}]], "Output",
 CellChangeTimes->{3.739639263295643*^9},
 CellLabel->
  "Out[1503]=",ExpressionUUID->"96c2392b-3a8d-4d6a-882d-42650990b838"]
}, Open  ]],

Cell["\<\
Define the story as an Association \[LongDash] Then display it s a graph\
\>", "Text",
 CellChangeTimes->{{3.739635819037133*^9, 3.739635829229219*^9}, {
  3.739635898322941*^9, 3.739635904671982*^9}, {3.739638988811005*^9, 
  3.739639004440568*^9}},ExpressionUUID->"452a60c4-65ab-4d8e-9c59-\
f153b3d495ed"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"testingAssoc", " ", "=", 
  RowBox[{"<|", 
   RowBox[{
    RowBox[{
    "\"\<Other Story\>\"", " ", "\[Rule]", " ", "\"\<Start Here\>\""}], ",", 
    RowBox[{
    "\"\<Two\>\"", " ", "\[Rule]", " ", "\"\<Go to passage [[Three]]\>\""}], 
    ",", " ", 
    RowBox[{
    "\"\<Three\>\"", " ", "\[Rule]", "  ", 
     "\"\<Here we are at Passage Three\>\""}]}], "|>"}]}]], "Input",
 CellChangeTimes->{{3.7396388540219793`*^9, 3.739638863249782*^9}, {
  3.7396388936198263`*^9, 3.7396389857965317`*^9}, {3.739639274253913*^9, 
  3.7396392758439007`*^9}, {3.7396394112200947`*^9, 3.739639412942844*^9}, {
  3.7396467742131777`*^9, 3.7396467744537077`*^9}, {3.7396472545797043`*^9, 
  3.7396472561896772`*^9}},
 CellLabel->
  "In[1641]:=",ExpressionUUID->"9a088cfe-aa57-4d8b-84d9-82a629e61846"],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{"\<\"Other Story\"\>", "\[Rule]", "\<\"Start Here\"\>"}], ",", 
   RowBox[{"\<\"Two\"\>", "\[Rule]", "\<\"Go to passage [[Three]]\"\>"}], ",", 
   RowBox[{"\<\"Three\"\>", 
    "\[Rule]", "\<\"Here we are at Passage Three\"\>"}]}], 
  "\[RightAssociation]"}]], "Output",
 CellChangeTimes->{3.7396392767982187`*^9, 3.7396395720515137`*^9, 
  3.739646778186269*^9, 3.7396472584415627`*^9},
 CellLabel->
  "Out[1641]=",ExpressionUUID->"2a771563-210c-49bf-895b-5f9c1dddff1b"]
}, Open  ]],

Cell[BoxData[{
 RowBox[{"Clear", "[", "twineWL", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"twineWL", "[", 
   RowBox[{"userAssoc_", ",", " ", 
    RowBox[{"outputForm_:", "\"\<Summary\>\""}]}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"assoc", " ", "=", " ", "userAssoc"}], ",", " ", "rootNode", 
      ",", " ", "passageEdges", ",", "psgContent"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"rootNode", " ", "=", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"First", "[", 
         RowBox[{"Keys", "[", "assoc", "]"}], "]"}], "\[DirectedEdge]", " ", 
        RowBox[{
         RowBox[{"Keys", "[", "assoc", "]"}], "\[LeftDoubleBracket]", "2", 
         "\[RightDoubleBracket]"}]}], "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"passageEdges", " ", "=", 
      RowBox[{"DeleteCases", "[", 
       RowBox[{
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"generateEdges", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Keys", "[", "assoc", "]"}], "\[LeftDoubleBracket]", 
             "index", "\[RightDoubleBracket]"}], ",", 
            RowBox[{"extractLinks", "[", 
             RowBox[{
             "assoc", "\[LeftDoubleBracket]", "index", 
              "\[RightDoubleBracket]"}], "]"}]}], "]"}], ",", " ", 
          RowBox[{"{", 
           RowBox[{"index", ",", " ", "1", ",", " ", 
            RowBox[{"Length", "[", "assoc", "]"}], ",", "1"}], "}"}]}], "]"}],
         ",", " ", 
        RowBox[{"{", "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"psgContent", " ", "=", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"generateEdges", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Keys", "[", "assoc", "]"}], "\[LeftDoubleBracket]", 
           "index", "\[RightDoubleBracket]"}], ",", 
          RowBox[{
          "assoc", "\[LeftDoubleBracket]", "index", 
           "\[RightDoubleBracket]"}]}], "]"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"index", ",", " ", "1", ",", " ", 
          RowBox[{"Length", "[", "assoc", "]"}], ",", "1"}], "}"}]}], "]"}]}],
      ";", "\[IndentingNewLine]", 
     RowBox[{"Switch", "[", 
      RowBox[{
      "outputForm", ",", "\[IndentingNewLine]", "\"\<Summary\>\"", ",", " ", 
       RowBox[{"GraphicsRow", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"Framed", "@", 
           RowBox[{"Column", "[", 
            RowBox[{"Framed", "/@", "psgContent"}], " ", "]"}]}], ",", " ", 
          RowBox[{"Graph", "[", 
           RowBox[{
            RowBox[{"Flatten", "[", 
             RowBox[{"rootNode", "~", "Join", "~", "passageEdges"}], "]"}], 
            ",", " ", 
            RowBox[{"VertexLabels", "\[Rule]", "\"\<Name\>\""}]}], "]"}]}], 
         "}"}], "]"}], ",", "\[IndentingNewLine]", "\"\<Export\>\"", ",", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"DirectoryQ", "[", 
           RowBox[{"FileNameJoin", "[", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"NotebookDirectory", "[", "]"}], ",", " ", 
              "\"\<TwineStories\>\""}], "}"}], "]"}], "]"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"Block", "[", 
           RowBox[{
            RowBox[{"{", "twineFolder", "}"}], ",", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"twineFolder", " ", "=", " ", 
              RowBox[{"FileNameJoin", "[", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"NotebookDirectory", "[", "]"}], ",", " ", 
                 "\"\<TwineStories\>\""}], "}"}], "]"}]}], ";", 
             "\[IndentingNewLine]", 
             RowBox[{"exportTwineProject", "[", 
              RowBox[{"assoc", ",", " ", 
               RowBox[{
               "twineFolder", " ", "<>", " ", "\"\</\>\"", "<>", " ", 
                RowBox[{"ToString", "[", 
                 RowBox[{"First", "[", 
                  RowBox[{"Keys", "[", "assoc", "]"}], "]"}], "]"}]}]}], 
              "]"}]}]}], "\[IndentingNewLine]", "]"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"Block", "[", 
           RowBox[{
            RowBox[{"{", "twineFolder", "}"}], ",", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"twineFolder", " ", "=", " ", 
              RowBox[{"FileNameJoin", "[", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"NotebookDirectory", "[", "]"}], ",", " ", 
                 "\"\<TwineStories\>\""}], "}"}], "]"}]}], ";", 
             "\[IndentingNewLine]", 
             RowBox[{"CreateDirectory", "[", "twineFolder", "]"}], ";", 
             "\[IndentingNewLine]", 
             RowBox[{"exportTwineProject", "[", 
              RowBox[{"assoc", ",", " ", 
               RowBox[{
               "twineFolder", " ", "<>", " ", "\"\</\>\"", "<>", " ", 
                RowBox[{"ToString", "[", 
                 RowBox[{"First", "[", 
                  RowBox[{"Keys", "[", "assoc", "]"}], "]"}], "]"}]}]}], 
              "]"}]}]}], "]"}]}], "\[IndentingNewLine]", "]"}], ";"}]}], 
      "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",
 CellChangeTimes->{{3.7396359114258833`*^9, 3.739635917723791*^9}, {
   3.739639254827368*^9, 3.739639295656187*^9}, {3.739639350938385*^9, 
   3.739639353541032*^9}, {3.739639390248548*^9, 3.739639392875202*^9}, {
   3.739639477718555*^9, 3.739639552223188*^9}, {3.73963971492645*^9, 
   3.7396397280046062`*^9}, {3.7396398292696953`*^9, 
   3.7396398313702507`*^9}, {3.739639876039069*^9, 3.739639877861834*^9}, {
   3.7396399557141457`*^9, 3.739640011300166*^9}, {3.739640044633966*^9, 
   3.7396400688073263`*^9}, {3.7396401397604227`*^9, 3.739640145062983*^9}, {
   3.739640187939752*^9, 3.739640202084358*^9}, {3.739640282285903*^9, 
   3.739640455761931*^9}, {3.7396404878296633`*^9, 3.739640510184403*^9}, {
   3.7396405403464203`*^9, 3.739640540679406*^9}, {3.739640667327407*^9, 
   3.7396407261711607`*^9}, 3.739641708292067*^9, {3.739644191068931*^9, 
   3.7396442113973923`*^9}, {3.739644243167835*^9, 3.739644243355441*^9}, {
   3.739644278636903*^9, 3.739644429673133*^9}, {3.739644460064321*^9, 
   3.7396445432187653`*^9}, {3.73964461599273*^9, 3.7396446625490007`*^9}, {
   3.739644714588442*^9, 3.739644718968848*^9}, {3.739644760883815*^9, 
   3.7396448534928293`*^9}, 3.7396449056868143`*^9, {3.739644948226008*^9, 
   3.73964497165267*^9}, {3.739645029499007*^9, 3.739645032223023*^9}, {
   3.739645200561769*^9, 3.739645201775333*^9}, {3.739645479517063*^9, 
   3.7396455673380938`*^9}, 3.739645746401548*^9, {3.7396458514968443`*^9, 
   3.739645875047584*^9}, {3.739645932303546*^9, 3.739646055746531*^9}, {
   3.7396461034408092`*^9, 3.739646117965395*^9}, {3.739646178289756*^9, 
   3.739646341034543*^9}, {3.7396465835647573`*^9, 3.73964667523351*^9}, {
   3.73964675366565*^9, 3.739646754944503*^9}, 3.73964680516212*^9, {
   3.7396469597421083`*^9, 3.7396471850717*^9}, {3.739647390410947*^9, 
   3.739647443616269*^9}},
 CellLabel->
  "In[1643]:=",ExpressionUUID->"1c311fb5-1fda-4112-bc27-9980197bf3d0"],

Cell[BoxData[
 RowBox[{"twineWL", "[", 
  RowBox[{"testingAssoc", ",", " ", "\"\<Export\>\""}], "]"}]], "Input",
 CellChangeTimes->{{3.739639466261115*^9, 3.73963947164721*^9}, {
  3.739644438026455*^9, 3.7396444386388893`*^9}, {3.739645969388419*^9, 
  3.7396459696833887`*^9}, {3.7396464041452217`*^9, 3.739646406076892*^9}, {
  3.739646696863475*^9, 3.739646708555923*^9}, {3.73964678350539*^9, 
  3.73964678488696*^9}},
 CellLabel->
  "In[1645]:=",ExpressionUUID->"18d2ad36-a73b-46ce-985a-7eb6173cd65d"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1365, 958},
WindowMargins->{{Automatic, 0}, {Automatic, 0}},
FrontEndVersion->"11.3 for Mac OS X x86 (32-bit, 64-bit Kernel) (March 7, \
2018)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "Info13813739558490-6224775"->{
  Cell[16283, 350, 280, 5, 46, "Print",ExpressionUUID->"1857c035-de30-448e-834c-62df95d1e27a",
   CellTags->"Info13813739558490-6224775"]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"Info13813739558490-6224775", 54015, 1259}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[583, 22, 156, 3, 98, "Title",ExpressionUUID->"ecfa08e0-3bd3-4345-bdc1-69fc0ac884c9"],
Cell[CellGroupData[{
Cell[764, 29, 246, 4, 54, "Subsection",ExpressionUUID->"f33f2278-c878-4b0b-9db0-a5a8a6a89d74"],
Cell[CellGroupData[{
Cell[1035, 37, 168, 3, 45, "Subsubsection",ExpressionUUID->"7720763d-6de6-4376-888f-32c0288c4b41"],
Cell[1206, 42, 988, 24, 110, "Code",ExpressionUUID->"46904399-9fa0-482b-bfa6-78336f9ccb5a"],
Cell[2197, 68, 13801, 271, 577, "Input",ExpressionUUID->"2c8c6397-1c6a-42a9-9877-e4851a6fb364"],
Cell[CellGroupData[{
Cell[16023, 343, 257, 5, 30, "Input",ExpressionUUID->"330bfd4e-4856-4057-9cef-a1ec3557d7e7"],
Cell[16283, 350, 280, 5, 46, "Print",ExpressionUUID->"1857c035-de30-448e-834c-62df95d1e27a",
 CellTags->"Info13813739558490-6224775"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[16624, 362, 167, 3, 54, "Subsection",ExpressionUUID->"e1a8fd93-d1b1-4de0-a83e-d273223ee92c"],
Cell[CellGroupData[{
Cell[16816, 369, 210, 4, 45, "Subsubsection",ExpressionUUID->"032eb45c-6fca-4f4c-a796-dc8e462b90c3"],
Cell[17029, 375, 4371, 91, 556, "Input",ExpressionUUID->"f111229e-fff9-4e39-b9bc-e9731f7921fb"],
Cell[CellGroupData[{
Cell[21425, 470, 615, 11, 30, "Input",ExpressionUUID->"2fe889b5-04e5-4e17-8679-343cd7f24c01"],
Cell[22043, 483, 263, 4, 34, "Output",ExpressionUUID->"2e045da4-379f-4f23-8392-d1b76b1dc618"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[22355, 493, 228, 4, 45, "Subsubsection",ExpressionUUID->"f1b47939-e6e4-4fa6-b2a4-9fa4e527df75"],
Cell[22586, 499, 477, 12, 52, "Input",ExpressionUUID->"6034025e-c63c-42b0-b294-fde079fffcc4"],
Cell[CellGroupData[{
Cell[23088, 515, 333, 7, 30, "Input",ExpressionUUID->"2ee6bf06-8eac-44b3-92af-7c707372fbbc"],
Cell[23424, 524, 10428, 221, 287, "Output",ExpressionUUID->"7b5fdba4-9b20-4298-ab75-b0ff8fbf043f"]
}, Open  ]],
Cell[CellGroupData[{
Cell[33889, 750, 222, 4, 30, "Input",ExpressionUUID->"9e532908-0b43-4ce4-bb5f-89633552077c"],
Cell[34114, 756, 425, 8, 56, "Output",ExpressionUUID->"b3a3f240-b0d1-490a-8898-5a65bbec50ee"]
}, Open  ]],
Cell[CellGroupData[{
Cell[34576, 769, 224, 4, 30, "Input",ExpressionUUID->"68bf11c7-0217-4af9-8351-1f6849268a8b"],
Cell[34803, 775, 1039, 20, 77, "Output",ExpressionUUID->"fff79204-8a55-475e-a16e-976eb0de3c66"]
}, Open  ]],
Cell[CellGroupData[{
Cell[35879, 800, 291, 6, 30, "Input",ExpressionUUID->"ab08f0f2-4141-4ec3-b04e-41e39cbc477c"],
Cell[36173, 808, 240, 4, 34, "Output",ExpressionUUID->"885503a4-76e9-4f87-bab0-2f6df09c97c8"]
}, Open  ]],
Cell[36428, 815, 348, 8, 58, "Text",ExpressionUUID->"56e8ff23-15be-4e5d-93fd-ce0cfaa66a06"]
}, Closed]],
Cell[CellGroupData[{
Cell[36813, 828, 275, 4, 37, "Subsubsection",ExpressionUUID->"0ec8cec1-fedd-4a47-9b16-58ee3857a3a3"],
Cell[37091, 834, 494, 12, 81, "Text",ExpressionUUID->"29ecd907-a2f5-44ff-a172-d78094ebe43b"],
Cell[37588, 848, 204, 3, 32, "Text",ExpressionUUID->"f39e5609-62f9-49e2-a04e-5ac3ef323b79"],
Cell[37795, 853, 488, 12, 150, "Text",ExpressionUUID->"53cb5875-a097-46d2-9867-23b307d84881"]
}, Closed]],
Cell[CellGroupData[{
Cell[38320, 870, 215, 4, 37, "Subsubsection",ExpressionUUID->"f8919303-8031-4d6c-a3d7-6a54f02b89e0"],
Cell[38538, 876, 556, 11, 81, "Text",ExpressionUUID->"66906880-65f9-4a39-80e9-f3fd146ef567"]
}, Open  ]],
Cell[CellGroupData[{
Cell[39131, 892, 173, 3, 45, "Subsubsection",ExpressionUUID->"bd62fbd1-a409-4ae5-992f-f8fd6e5f9bfb"],
Cell[CellGroupData[{
Cell[39329, 899, 927, 21, 73, "Input",ExpressionUUID->"de331acc-d004-4c17-bfa5-f9d53c422695"],
Cell[40259, 922, 436, 9, 34, "Output",ExpressionUUID->"ac6f2ffd-98a7-4360-84b4-c89e6c9ce78f"]
}, Open  ]],
Cell[CellGroupData[{
Cell[40732, 936, 415, 9, 30, "Input",ExpressionUUID->"20f199de-ed6d-4aaf-9c38-632a598563fc"],
Cell[41150, 947, 451, 10, 34, "Output",ExpressionUUID->"2bb209d9-1836-4e15-9a50-4e1287e84dec"]
}, Open  ]],
Cell[CellGroupData[{
Cell[41638, 962, 344, 8, 30, "Input",ExpressionUUID->"904827de-567b-4f3f-b92a-31193e8a3950"],
Cell[41985, 972, 519, 13, 34, "Output",ExpressionUUID->"81594118-d872-4fb1-bf48-b145e75409cd"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[42553, 991, 179, 3, 37, "Subsubsection",ExpressionUUID->"b8c03714-132a-4de2-aa95-78b54bbb5f19"],
Cell[CellGroupData[{
Cell[42757, 998, 125, 2, 30, "Input",ExpressionUUID->"f0ec408c-ec98-43f1-8fb7-847dc50e7b31"],
Cell[42885, 1002, 1327, 30, 122, "Output",ExpressionUUID->"96c2392b-3a8d-4d6a-882d-42650990b838"]
}, Open  ]],
Cell[44227, 1035, 317, 6, 35, "Text",ExpressionUUID->"452a60c4-65ab-4d8e-9c59-f153b3d495ed"],
Cell[CellGroupData[{
Cell[44569, 1045, 811, 18, 30, "Input",ExpressionUUID->"9a088cfe-aa57-4d8b-84d9-82a629e61846"],
Cell[45383, 1065, 539, 11, 37, "Output",ExpressionUUID->"2a771563-210c-49bf-895b-5f9c1dddff1b"]
}, Open  ]],
Cell[45937, 1079, 7207, 153, 430, "Input",ExpressionUUID->"1c311fb5-1fda-4112-bc27-9980197bf3d0"],
Cell[53147, 1234, 507, 9, 30, "Input",ExpressionUUID->"18d2ad36-a73b-46ce-985a-7eb6173cd65d"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

